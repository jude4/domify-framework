#!/usr/bin/env php
<?php
require __DIR__ . '/vendor/autoload.php'; require __DIR__ . '/framework/bootstrap.php'; use Symfony\Component\Console\Application; use Symfony\Component\Console\Output\ConsoleOutput; $output = new ConsoleOutput(); $output->writeln("\033[1;33m🐝  Domify Framework v1.0\033[0m"); $output->writeln("\033[0;36mBuild better domains, one entity at a time.\033[0m"); $output->writeln(str_repeat('-',55)); $app = new Application('Domify CLI','1.0'); $commandsDir = __DIR__ . '/app/Console/Commands'; if(is_dir($commandsDir)){ $rii = new RecursiveIteratorIterator(new RecursiveDirectoryIterator($commandsDir)); foreach($rii as $file){ if($file->isDir()) continue; if($file->getExtension()!=='php') continue; require_once $file->getPathname(); } } foreach(get_declared_classes() as $class){ if(is_subclass_of($class, \Symfony\Component\Console\Command\Command::class)){ try{ $app->add(new $class()); }catch(Throwable $e){} } } $app->run();
